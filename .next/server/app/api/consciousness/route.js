(()=>{var e={};e.id=53,e.ids=[53],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},41506:(e,t,s)=>{"use strict";s.d(t,{D:()=>n});let r=(0,s(39398).createClient)("https://your-project.supabase.co","your-anon-key-here"),n={async insertEntry(e){let{data:t,error:s}=await r.from("consciousness_entries").insert([e]).select();if(s)throw s;return t[0]},async getRecentEntries(e=50){let{data:t,error:s}=await r.from("consciousness_entries").select("*").order("timestamp",{ascending:!1}).limit(e);if(s)throw s;return t},async upsertDailyStats(e){let{data:t,error:s}=await r.from("daily_stats").upsert([e],{onConflict:"date"}).select();if(s)throw s;return t[0]},async getDailyStats(e=30){let{data:t,error:s}=await r.from("daily_stats").select("*").order("date",{ascending:!1}).limit(e);if(s)throw s;return t},async getTodayStats(){let e=new Date().toISOString().split("T")[0],{data:t,error:s}=await r.from("daily_stats").select("*").eq("date",e).single();if(s&&"PGRST116"!==s.code)throw s;return t},subscribeToEntries:e=>r.channel("consciousness_entries").on("postgres_changes",{event:"INSERT",schema:"public",table:"consciousness_entries"},t=>e(t.new)).subscribe()}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47990:()=>{},51906:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=51906,e.exports=t},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},88622:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>w,routeModule:()=>d,serverHooks:()=>y,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{GET:()=>p,POST:()=>l});var n=s(96559),a=s(48088),o=s(37719),i=s(41506),c=s(32190);let u={recentEntries:[{id:"1",timestamp:new Date,content:"Working on integrating consciousness data with the RAM blog",app:"VS Code",type:"live_typing",wpm:72,context:"Development session"},{id:"2",timestamp:new Date(Date.now()-3e5),content:"Checking the latest updates on the digital consciousness dashboard",app:"Chrome",type:"live_typing",wpm:65,context:"Research"},{id:"3",timestamp:new Date(Date.now()-6e5),content:"Hey, can we sync up on the project timeline?",app:"Messages",type:"live_typing",wpm:58,context:"Communication"}],dailyStats:[{date:"2025-06-23",wordCount:2847,avgWpm:68,accuracy:94.2,activeTime:287,topApps:[{name:"VS Code",usage:45},{name:"Chrome",usage:25},{name:"Messages",usage:15},{name:"Terminal",usage:10},{name:"Other",usage:5}],productivity:87},{date:"2025-06-22",wordCount:3156,avgWpm:71,accuracy:92.8,activeTime:324,topApps:[{name:"VS Code",usage:52},{name:"Chrome",usage:23},{name:"Messages",usage:12},{name:"Terminal",usage:8},{name:"Other",usage:5}],productivity:91}]};async function p(e){try{let{searchParams:t}=new URL(e.url),s=parseInt(t.get("limit")||"50"),r=t.get("app")||"all";try{let e=await i.D.getRecentEntries(s),t=await i.D.getDailyStats(30),n=await i.D.getTodayStats();return"all"!==r&&(e=e.filter(e=>e.app===r)),c.NextResponse.json({recentEntries:e,dailyStats:t,todayStats:n,success:!0,source:"supabase"})}catch(t){console.warn("Supabase not available, using mock data:",t);let e={...u,recentEntries:"all"===r?u.recentEntries:u.recentEntries.filter(e=>e.app===r),source:"mock"};return c.NextResponse.json(e)}}catch(e){return console.error("Error fetching consciousness data:",e),c.NextResponse.json({error:"Failed to fetch consciousness data"},{status:500})}}async function l(e){try{let t=await e.json();if(!t.content||!t.timestamp||!t.app)return c.NextResponse.json({error:"Missing required fields: content, timestamp, app"},{status:400});console.log("\uD83D\uDCDD Received consciousness data:",{app:t.app,content:t.content.substring(0,50)+"...",wpm:t.wpm});try{let e=await i.D.insertEntry({timestamp:t.timestamp,content:t.content,app:t.app,type:t.type||"live_typing",wpm:t.wpm,context:t.context,session_id:t.session_id,char_count:t.char_count,backspace_count:t.backspace_count});return console.log(`âœ… Stored in Supabase: ${t.content.substring(0,30)}...`),c.NextResponse.json({success:!0,id:e.id,message:"Consciousness entry stored in Supabase",source:"supabase"})}catch(e){return console.warn("Supabase storage failed, continuing without persistence:",e),c.NextResponse.json({success:!0,id:Date.now().toString(),message:"Consciousness data received (Supabase not configured)",source:"mock"})}}catch(e){return console.error("Error processing consciousness data:",e),c.NextResponse.json({error:"Failed to process consciousness data"},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/consciousness/route",pathname:"/api/consciousness",filename:"route",bundlePath:"app/api/consciousness/route"},resolvedPagePath:"/Users/stevencampbell/Documents/GitHub/RAM/app/api/consciousness/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:m,workUnitAsyncStorage:g,serverHooks:y}=d;function w(){return(0,o.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:g})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,891],()=>s(88622));module.exports=r})();