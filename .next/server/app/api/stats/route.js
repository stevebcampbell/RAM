(()=>{var e={};e.id=967,e.ids=[967],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},41506:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});let r=(0,s(39398).createClient)("https://your-project.supabase.co","your-anon-key-here"),a={async insertEntry(e){let{data:t,error:s}=await r.from("consciousness_entries").insert([e]).select();if(s)throw s;return t[0]},async getRecentEntries(e=50){let{data:t,error:s}=await r.from("consciousness_entries").select("*").order("timestamp",{ascending:!1}).limit(e);if(s)throw s;return t},async upsertDailyStats(e){let{data:t,error:s}=await r.from("daily_stats").upsert([e],{onConflict:"date"}).select();if(s)throw s;return t[0]},async getDailyStats(e=30){let{data:t,error:s}=await r.from("daily_stats").select("*").order("date",{ascending:!1}).limit(e);if(s)throw s;return t},async getTodayStats(){let e=new Date().toISOString().split("T")[0],{data:t,error:s}=await r.from("daily_stats").select("*").eq("date",e).single();if(s&&"PGRST116"!==s.code)throw s;return t},subscribeToEntries:e=>r.channel("consciousness_entries").on("postgres_changes",{event:"INSERT",schema:"public",table:"consciousness_entries"},t=>e(t.new)).subscribe()}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47990:()=>{},49523:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>f,routeModule:()=>l,serverHooks:()=>g,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>y});var r={};s.r(r),s.d(r,{GET:()=>p,POST:()=>c});var a=s(96559),o=s(48088),i=s(37719),n=s(41506),u=s(32190);async function c(e){try{let t=await e.json();if(!t.date)return u.NextResponse.json({error:"Missing required field: date"},{status:400});console.log("\uD83D\uDCCA Received daily stats for:",t.date);try{let e=await n.D.upsertDailyStats({date:t.date,word_count:t.word_count||0,char_count:t.char_count||0,avg_wpm:t.avg_wpm||0,accuracy:t.accuracy||0,spelling_errors:t.spelling_errors||0,active_time_minutes:t.active_time_minutes||0,top_apps:t.top_apps||[],productivity_score:t.productivity_score||0,typing_sessions:t.typing_sessions||0,fastest_wpm:t.fastest_wpm||0});return console.log(`âœ… Stored daily stats in Supabase for ${t.date}`),u.NextResponse.json({success:!0,id:e.id,message:"Daily stats stored successfully",source:"supabase"})}catch(e){return console.warn("Supabase storage failed for daily stats:",e),u.NextResponse.json({success:!0,message:"Daily stats received (Supabase not configured)",source:"mock"})}}catch(e){return console.error("Error storing daily stats:",e),u.NextResponse.json({error:"Failed to store daily stats"},{status:500})}}async function p(e){try{let{searchParams:t}=new URL(e.url),s=parseInt(t.get("days")||"30"),r=t.get("date");try{if(r){let e=await n.D.getDailyStats(1);return u.NextResponse.json({success:!0,stats:e.find(e=>e.date===r)||null,source:"supabase"})}{let e=await n.D.getDailyStats(s);return u.NextResponse.json({success:!0,stats:e,count:e.length,source:"supabase"})}}catch(e){return console.warn("Supabase query failed, using mock data:",e),u.NextResponse.json({success:!0,stats:[],count:0,source:"mock",note:"Supabase not configured"})}}catch(e){return console.error("Error fetching daily stats:",e),u.NextResponse.json({error:"Failed to fetch daily stats"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/stats/route",pathname:"/api/stats",filename:"route",bundlePath:"app/api/stats/route"},resolvedPagePath:"/Users/stevencampbell/Documents/GitHub/RAM/app/api/stats/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:d,workUnitAsyncStorage:y,serverHooks:g}=l;function f(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:y})}},51906:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=51906,e.exports=t},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,891],()=>s(49523));module.exports=r})();